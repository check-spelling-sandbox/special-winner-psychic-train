

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head><script src="//archive.org/includes/athena.js" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app212.us.archive.org';v.server_ms=1390;archive_analytics.send_pageview({});});</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/bundle-playback.js?v=1B2M2Y8A" charset="utf-8"></script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/wombat.js?v=1B2M2Y8A" charset="utf-8"></script>
<script>window.RufflePlayer=window.RufflePlayer||{};window.RufflePlayer.config={"autoplay":"on","unmuteOverlay":"hidden","showSwfDownload":true};</script>
<script type="text/javascript" src="https://web-static.archive.org/_static/js/ruffle/ruffle.js"></script>
<script type="text/javascript">
    __wm.init("https://web.archive.org/web");
  __wm.wombat("https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/","20200128111346","https://web.archive.org/","web","https://web-static.archive.org/_static/",
	      "1580210026");
</script>
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/banner-styles.css?v=1B2M2Y8A" />
<link rel="stylesheet" type="text/css" href="https://web-static.archive.org/_static/css/iconochive.css?v=1B2M2Y8A" />
<!-- End Wayback Rewrite JS Include -->

      <meta charset="utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
      <title>4.8.2.&nbsp;Configure a multi-cluster - 4.8.&nbsp;Multi-clustering</title>
      <link rel="stylesheet" type="text/css" href="/web/20200128111346cs_/https://neo4j.com/docs/operations-manual/3.4/docbook.css"></link>
      <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20200128111346cs_/https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20200128111346cs_/https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20200128111346cs_/https://fonts.googleapis.com/css?family=Open+Sans:400,300,400italic,600,300italic"></link>
      <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20200128111346cs_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/codemirror.min.css"></link>
      <link rel="stylesheet" type="text/css" href="//web.archive.org/web/20200128111346cs_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/theme/neo.min.css"></link>
      <link rel="stylesheet" type="text/css" href="/web/20200128111346cs_/https://neo4j.com/docs/operations-manual/3.4/css/extra.css"></link>
      <link rel="stylesheet" type="text/css" href="/web/20200128111346cs_/https://neo4j.com/docs/operations-manual/3.4/css/chunked-base.css"></link><script src="//web.archive.org/web/20200128111346js_/https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/codemirror.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/addon/runmode/runmode.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/javascript/javascript.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/shell/shell.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/powershell/powershell.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/python/python.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/xml/xml.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/clike/clike.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/cypher/cypher.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/properties/properties.min.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.36.0/mode/groovy/groovy.min.js" type="text/javascript"></script><script src="/web/20200128111346js_/https://neo4j.com/docs/operations-manual/3.4/javascript/colorize.js" type="text/javascript"></script><script src="/web/20200128111346js_/https://neo4j.com/docs/operations-manual/3.4/javascript/tabs-for-chunked.js" type="text/javascript"></script><script src="/web/20200128111346js_/https://neo4j.com/docs/operations-manual/3.4/javascript/mp-nav.js" type="text/javascript"></script><script src="/web/20200128111346js_/https://neo4j.com/docs/operations-manual/3.4/javascript/versionswitcher.js" type="text/javascript"></script><script src="/web/20200128111346js_/https://neo4j.com/docs/operations-manual/3.4/javascript/version.js" type="text/javascript"></script><script src="//web.archive.org/web/20200128111346js_/https://s3-eu-west-1.amazonaws.com/alpha.neohq.net/docs/new-manual/assets/search.js" type="text/javascript"></script><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"></meta>
      <meta name="description" content="This section describes how to configure several Causal Clusters in order to construct a single multi-cluster."></meta>
      <link rel="prev" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/introduction/" title="4.8.1. Introduction"></link>
      <link rel="next" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/settings/" title="4.9. Settings reference"></link>
      <link rel="shortcut icon" href="https://web.archive.org/web/20200128111346im_/https://neo4j.com/wp-content/themes/neo4jweb/favicon.ico"></link><script>
        $(document).ready(function() {
          CodeMirror.colorize();
          tabTheSource($('body'));
          var $header = $('header').first();
          $header.prepend(
            $('<a href="../../../" id="logo"><img src="https://web.archive.org/web/20200128111346/https://neo4j.com/wp-content/themes/neo4jweb/assets/images/neo4j-logo-2015.png" alt="Neo4j Logo"></img></a>')
          );
          var $sidebar = $('<div id="sidebar-wrapper"></div>');
          $.get('toc.html', function (d){
            $(d).appendTo($sidebar);
            highlightToc();
            highlightLibraryHeader();
          });
          $sidebar.insertAfter($('header').first());
        });
        </script></head>
   <body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;" toolbar-mode="auto">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="donato" style="position:relative;width:100%;height:0;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=https%3A//web.archive.org/web/20200128111346/https%3A//neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><div id="wm-ipp-inside">
  <div id="wm-toolbar" style="position:relative;display:flex;flex-flow:row nowrap;justify-content:space-between;">
    <div id="wm-logo" style="/*width:110px;*/padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-100.png, https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="c" style="display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;">
      <form class="u" style="display:flex;flex-direction:row;flex-wrap:nowrap;" target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/" onfocus="this.focus();this.select();" style="flex:1;"/><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20200128111346" /><input type="submit" value="Go" />
      </form>
      <div style="display:flex;flex-flow:row nowrap;align-items:flex-end;">
                <div class="s" id="wm-nav-captures" style="flex:1;">
                    <a class="t" href="/web/20200128111346*/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/" title="See a list of every capture for this URL">1 capture</a>
          <div class="r" title="Timespan for captures of this URL">28 Jan 2020</div>
          </div>
        <div class="k">
          <a href="" id="wm-graph-anchor">
            <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
              <canvas id="wm-sparkline-canvas" width="750" height="27" border="0"></canvas>
            </div>
          </a>
        </div>
      </div>
    </div>
    <div class="n">
      <table>
        <tbody>
          <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
          <tr class="m">
            <td class="b" nowrap="nowrap">Dec</td>
            <td class="c" id="displayMonthEl" title="You are here: 11:13:46 Jan 28, 2020">JAN</td>
            <td class="f" nowrap="nowrap">Feb</td>
          </tr>
          <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
          <tr class="d">
            <td class="b" nowrap="nowrap"><img src="https://web-static.archive.org/_static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" /></td>
            <td class="c" id="displayDayEl" style="width:34px;font-size:22px;white-space:nowrap;" title="You are here: 11:13:46 Jan 28, 2020">28</td>
            <td class="f" nowrap="nowrap"><img src="https://web-static.archive.org/_static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
          </tr>
          <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
          <tr class="y">
            <td class="b" nowrap="nowrap">2019</td>
            <td class="c" id="displayYearEl" title="You are here: 11:13:46 Jan 28, 2020">2020</td>
            <td class="f" nowrap="nowrap">2021</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="r" style="display:flex;flex-flow:column nowrap;align-items:flex-end;justify-content:space-between;">
      <div id="wm-btns" style="text-align:right;height:23px;">
                <span class="xxs">
          <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#" title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php" title="Sign In" id="wm-sign-in">
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        </span>
                <a class="xxs" href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
        <a id="wm-tb-close" href="#close" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share" class="xxs">
        <a href="/web/20200128111346/http://web.archive.org/screenshot/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/"
           id="wm-screenshot"
           title="screenshot">
          <span class="wm-icon-screen-shot"></span>
        </a>
        <a href="#" id="wm-video" title="video">
          <span class="iconochive-movies"></span>
        </a>
        <a id="wm-share-facebook" href="#" data-url="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
        <a id="wm-share-twitter" href="#" data-url="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
      <div style="padding-right:2px;text-align:right;white-space:nowrap;">
        <a id="wm-expand" class="wm-btn wm-closed" href="#expand"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span class="xxs" style="font-size:80%;">About this capture</span></a>
      </div>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
        <div id="wm-capinfo-notice" source="api"></div>
                <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/wikipedia-eventstream)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/wikipedia-eventstream" target="_new"><span class="wm-title">Wikipedia Eventstream</span></a></div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="https://web-static.archive.org/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="wm-ipp-print">The Wayback Machine - https://web.archive.org/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/</div>
<script type="text/javascript">//<![CDATA[
__wm.bt(750,27,25,2,"web","https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/config/","20200128111346",1996,"https://web-static.archive.org/_static/",["https://web-static.archive.org/_static/css/banner-styles.css?v=1B2M2Y8A","https://web-static.archive.org/_static/css/iconochive.css?v=1B2M2Y8A"], false);
  __wm.rw(1);
//]]></script>
<!-- END WAYBACK TOOLBAR INSERT -->
 
      <header>
         <div class="searchbox">
            <form id="search-form" class="search" name="search-form" role="search"><input id="search-form-input" name="q" title="search" type="search" lang="en" placeholder="Search Neo4j docs..." aria-label="Search Neo4j documentation" max-length="128" required="required"></input><input id="search-form-button" type="submit" value="Search"></input></form>
         </div>
         <ul class="documentation-library">
            <li><a href="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/">Operations Manual</a></li>
            <li><a href="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/developer-manual/3.4/">Developer Manual</a></li>
            <li><a href="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/ogm-manual/3.0/">OGM Manual</a></li>
            <li><a href="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/graph-algorithms/3.4/">Graph Algorithms</a></li>
            <li><a href="https://web.archive.org/web/20200128111346/https://neo4j.com/docs/java-reference/3.4/">Java Reference</a></li>
         </ul>
         <nav id="header-nav"><span class="nav-previous"><a accesskey="p" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/multi-clustering/introduction/"><span class="fa fa-long-arrow-left" aria-hidden="true"></span>Introduction</a></span><span class="nav-current">
               <p class="nav-title hidden">4.8.2.&nbsp;Configure a multi-cluster</p></span><span class="nav-next"><a accesskey="n" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/settings/">Settings reference<span class="fa fa-long-arrow-right" aria-hidden="true"></span></a></span></nav>
      </header>
      <div id="search-results" class="hidden"></div>
      <section class="section enterprise-edition" id="multi-clustering-configuration">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title"><a class="anchor" href="#multi-clustering-configuration"></a>4.8.2.&nbsp;Configure a multi-cluster
                  </h3>
               </div>
            </div>
         </div>
         <div class="abstract">
            <p>This section describes how to configure several Causal Clusters in order to construct a single multi-cluster.</p>
         </div>
         <p>In this section we will configure the multi-cluster illustrated in the picture below.
            Each cluster has three Core Servers and two Read Replicas:
         </p>
         <div class="figure" id="d0e7920">
            <div class="figure-title">Figure&nbsp;4.20.&nbsp;Configure a multi-cluster with three clusters.</div>
            <div class="figure-contents">
               <div class="mediaobject"><img src="/web/20200128111346im_/https://neo4j.com/docs/operations-manual/3.4/images/multicluster-example.svg" alt="multicluster example"></img></div>
            </div>
         </div>
         <div class="orderedlist">
            <ol class="orderedlist" type="1">
               <li class="listitem">
                  <p class="simpara">Configure each cluster as you would configure a regular Causal Cluster.</p>
                  <p class="simpara">Refer to <a class="xref" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/setup-new-cluster/" title="4.3. Create a new cluster">Section&nbsp;4.3, &#8220;Create a new cluster&#8221;</a> for details.
                  </p>
                  <p class="simpara">For example, if you configure a multi-cluster of three clusters, where each has three Core members, then in each of the clusters
                     the value of <code class="literal"><a class="link" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.minimum_core_cluster_size_at_formation" title="Table A.39. causal_clustering.minimum_core_cluster_size_at_formation">causal_clustering.minimum_core_cluster_size_at_formation</a></code> should be set to <code class="literal">3</code> (as opposed to <code class="literal">9</code>, which would be the sum of all Core members).
                  </p>
               </li>
               <li class="listitem">Start up each of the clusters and test that it functions as expected.</li>
               <li class="listitem">Shut down all the members of all the clusters.</li>
               <li class="listitem">
                  <p class="simpara">Assign a name to each of the databases/clusters:</p>
                  <p class="simpara">Configure <a class="link" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.database" title="Table A.15. causal_clustering.database">causal_clustering.database</a> on each of the members in each of the clusters.
                  </p>
                  <div class="example" id="d0e7963">
                     <div class="example-title">Example&nbsp;4.19.&nbsp;Assign a name to a cluster</div>
                     <div class="example-contents">
                        <p>We wish to assign the name <code class="literal">foo</code> to this database.
                           We do so by adding the following entry to <span class="emphasis"><em>neo4j.conf</em></span>:
                        </p><pre class="programlisting highlight"><code data-lang="properties">causal_clustering.database=foo</code></pre></div>
                  </div>
                  <div class="admonitionblock note">
                     <table>
                        <tbody>
                           <tr>
                              <td class="icon"><i class="fa icon-note" title="note"></i></td>
                              <td class="content">
                                 <p>If an intended member of a cluster is missing the <code class="literal">causal_clustering.database</code> setting, it will form a separate cluster with the implicit name of <code class="literal">default</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <p class="simpara"><span class="strong"><strong>Limitations:</strong></span>
                     Once an instance is first launched with a non-default name, that name is persisted.
                     On subsequent startups of that instance, if a name change is detected it will cause the startup to fail.
                     The database name configured for an instance may only be changed after unbinding the instance using <code class="literal"><a class="link" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/tools/unbind/" title="11.8. Unbind a Core Server">neo4j-admin unbind</a></code>.
                  </p>
               </li>
               <li class="listitem">
                  <p class="simpara">Configure discovery members.</p>
                  <p class="simpara">When setting up a multi-cluster, we must configure the discovery service to locate all members from all constituent clusters.
                     This enables them to join the multi-cluster-wide discovery service depicted in the image above.
                  </p>
                  <p class="simpara">This is achieved by combining each cluster&#8217;s <code class="literal"><a class="link" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/reference/configuration-settings/#config_causal_clustering.initial_discovery_members" title="Table A.28. causal_clustering.initial_discovery_members">causal_clustering_initial_discovery_members</a></code> config value.
                     See <a class="xref" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/clustering/lifecycle/#causal-clustering-discovery-protocol" title="4.2.2. Discovery protocol">Section&nbsp;4.2.2, &#8220;Discovery protocol&#8221;</a> for details about discovery.
                  </p>
                  <div class="example" id="d0e8006">
                     <div class="example-title">Example&nbsp;4.20.&nbsp;Initial discovery configuration for a multi-cluster</div>
                     <div class="example-contents">
                        <p>Assume that we have three clusters with initial discovery members configured as follows:</p><pre class="programlisting highlight"><code data-lang="properties"># `foo` members
causal_clustering.initial_discovery_members=neo20:5000,neo21:5000,neo22:5000</code></pre><pre class="programlisting highlight"><code data-lang="properties"># `bar` members
causal_clustering.initial_discovery_members=neo23:5000,neo24:5000,neo25:5000</code></pre><pre class="programlisting highlight"><code data-lang="properties"># `baz` members
causal_clustering.initial_discovery_members=neo26:5000,neo27:5000,neo28:5000</code></pre><p>To form a multi-cluster with these three clusters, update the config value on all members of all clusters:</p><pre class="programlisting highlight"><code data-lang="properties"># `foo`,`bar and `baz` members
causal_clustering.initial_discovery_members=neo20:5000,neo21:5000,neo22:5000,neo23:5000,neo24:5000,neo25:5000,neo26:5000,neo27:5000,neo28:5000</code></pre></div>
                  </div>
               </li>
               <li class="listitem">
                  <p class="simpara">Start up and test the multi-cluster:</p>
                  <div class="orderedlist">
                     <ol class="orderedlist" type="a">
                        <li class="listitem">Start up all the members of the multi-cluster.</li>
                        <li class="listitem">
                           <p class="simpara">Use the <code class="literal"><a class="link" href="/web/20200128111346/https://neo4j.com/docs/operations-manual/3.4/monitoring/causal-cluster/multi-cluster/#multi-clustering-dbms.cluster.overview" title="9.4.3.1. Gain an overview over all the instances in a multi-cluster">dbms.cluster.overview()</a></code> procedure to test that the multi-cluster works as expected.
                           </p>
                           <div class="example" id="d0e8035">
                              <div class="example-title">Example&nbsp;4.21.&nbsp;Test the multi-cluster</div>
                              <div class="example-contents">
                                 <p>To test that the multi-cluster is working correctly, and to get information about the participating members and the databases
                                    they manage, use the <code class="literal">dbms.cluster.overview()</code> procedure:
                                 </p><pre class="programlisting highlight"><code data-lang="cypher">CALL dbms.cluster.overview()</code></pre><p>The procedure will show output similar to the following:</p>
                                 <div class="informaltable">
                                    <div class="table" id="d0e8047">
                                       <table class="informaltable" border="1">
                                          <colgroup>
                                             <col class="col_1"></col>
                                             <col class="col_2"></col>
                                             <col class="col_3"></col>
                                             <col class="col_4"></col>
                                             <col class="col_5"></col>
                                          </colgroup>
                                          <thead>
                                             <tr>
                                                <th style="text-align: left; vertical-align: top; ">id</th>
                                                <th style="text-align: left; vertical-align: top; ">addresses</th>
                                                <th style="text-align: left; vertical-align: top; ">role</th>
                                                <th style="text-align: left; vertical-align: top; ">groups</th>
                                                <th style="text-align: left; vertical-align: top; ">database</th>
                                             </tr>
                                          </thead>
                                          <tbody>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>08eb9305-53b9-4394-9237-0f0d63bb05d5</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo20:7687, http://neo20:7474, https://neo20:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>LEADER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>foo</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>cb0c729d-233c-452f-8f06-f2553e08f149</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo21:7687, http://neo21:7474, https://neo21:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>FOLLOWER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>foo</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>ded9eed2-dd3a-4574-bc08-6a569f91ec5c</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo22:7687, http://neo22:7474, https://neo22:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>FOLLOWER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>foo</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>3df6ec18-6333-4fb8-8b34-db7ecdfd967f</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo23:7687, http://neo23:7474, https://neo23:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>LEADER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>bar</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>395f708f-ae0c-4e24-a48d-9e90d4d63590</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo24:7687, http://neo24:7474, https://neo24:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>FOLLOWER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>bar</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>fef25f21-6a99-4694-ae1c-10d91465acd2</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo25:7687, http://neo25:7474, https://neo25:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>FOLLOWER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>bar</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>dcc57b70-d4a4-486b-ae57-e635bdcb1563</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo26:7687, http://neo26:7474, https://neo26:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>LEADER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>baz</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>a664ede1-1f87-4828-aee8-1ffd2bcce09c</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo27:7687, http://neo27:7474, https://neo27:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>FOLLOWER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>baz</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>17addd42-a9f9-427e-9b32-e59d650e35af</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo28:7687, http://neo28:7474, https://neo28:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>FOLLOWER</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>baz</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>a049dea4-d4de-421c-898c-e638fa98440b</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo30:7687, http://neo30:7474, https://neo30:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>READ_REPLICA</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>foo</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>894ced90-85cd-47c2-9a75-f86b22ef74bf</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo31:7687, http://neo31:7474, https://neo31:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>READ_REPLICA</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>foo</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>151e46c9-14b8-49bf-bf25-cf09cf3ad582</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo32:7687, http://neo32:7474, https://neo32:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>READ_REPLICA</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>bar</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>e1d153aa-c3e6-40fd-acf7-d73c6c79baf4</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo33:7687, http://neo33:7474, https://neo33:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>READ_REPLICA</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>bar</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>6e0b1801-9dba-4925-bc45-ceee91c10338</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo34:7687, http://neo34:7474, https://neo34:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>READ_REPLICA</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>baz</p>
                                                </td>
                                             </tr>
                                             <tr>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>87577513-db46-4ca3-a75f-3d8919f9b454</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[bolt://neo35:7687, http://neo35:7474, https://neo35:7473]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>READ_REPLICA</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>[]</p>
                                                </td>
                                                <td style="text-align: left; vertical-align: top; ">
                                                   <p>baz</p>
                                                </td>
                                             </tr>
                                          </tbody>
                                       </table>
                                    </div>
                                 </div>
                                 <p>The <code class="literal">dbms.cluster.overview()</code> procedure provides an overview of the whole multi-cluster, regardless of which cluster member is used to run the query, and
                                    which constituent cluster that member belongs to.
                                    The name of the database managed by each cluster member is provided by the <span class="emphasis"><em>database</em></span> column.
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
               </li>
            </ol>
         </div>
      </section>
      <footer><script type="text/javascript">
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//web.archive.org/web/20200128111346/https://www.google-analytics.com/analytics.js','ga');
          //Allow Linker
          ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
          ga('send', 'pageview');
          // Load the plugin.
          ga('require', 'linker');
          // Define which domains to autoLink.
          ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
        </script><script type="text/javascript">
          document.write(unescape("%3Cscript src='//web.archive.org/web/20200128111346/https://munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
        </script><script>Munchkin.init('773-GON-065');</script></footer>
   </body>
</html><!--
     FILE ARCHIVED ON 11:13:46 Jan 28, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 15:34:07 Jul 04, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  captures_list: 0.69
  exclusion.robots: 0.04
  exclusion.robots.policy: 0.025
  esindex: 0.015
  cdx.remote: 6.516
  LoadShardBlock: 601.287 (3)
  PetaboxLoader3.datanode: 703.579 (4)
  PetaboxLoader3.resolve: 531.849 (2)
  load_resource: 747.371
-->